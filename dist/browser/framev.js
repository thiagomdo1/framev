(()=>{"use strict";var t={21:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Framev=void 0,e.Framev=class{constructor(t){this.prefix="framev:",this.settings={origin:"*"},this.subscriptions=[],t&&(this.settings=Object.assign(Object.assign({},this.settings),t)),window.addEventListener("message",(({data:t,origin:e})=>{const s=new RegExp(this.prefix,"i");if("*"!==this.settings.origin&&this.settings.origin!==e)return null;if(!t||"string"!=typeof t||-1===t.search(s))return null;const{event:i,payload:n}=JSON.parse(t.replace(this.prefix,""));this.emit(i,n,!0),this.subscriptions.forEach((t=>{if("function"!=typeof t.callback)return null;if(i===t.event)return t.callback(n),null;const e=t.event;let s=e.replace("*",".*");s+="*"!==e[e.length-1]?"$":"";const r=new RegExp(s);i.search(r)>-1&&t.callback(n)}))}))}emit(t,e,s){if(!t||"string"!=typeof t)return null;const i={event:`${this.prefix}${t}`};e&&(i.payload=e);const n=JSON.stringify(i);window.self===window.top||s?(()=>{if(!window.frames)return null;for(let t=0;t<window.frames.length;t++){const e=window.frames[t].frameElement.contentWindow;if(!e)return null;e.postMessage(n,this.settings.origin)}})():(()=>{if(!window.top)return null;window.top.postMessage(n,this.settings.origin)})()}on(t,e){if(!t||"string"!=typeof t)return null;this.subscriptions.some((s=>s.event===t&&s.callback===e))||this.subscriptions.push({event:t,callback:e})}off(t,e){if(!t||"string"!=typeof t)return null;this.subscriptions=this.subscriptions.filter((s=>s.event!==t&&s.callback!==e))}}}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}(()=>{const t=s(21);window.Framev||(window.Framev=t.Framev)})()})();